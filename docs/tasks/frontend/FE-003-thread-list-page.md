# FE-003: スレッド一覧ページの実装

## 概要
掲示板のメインページとなるスレッド一覧ページを実装する。フィルタ、ソート、ページネーション機能を含む。

## 優先度
**High** - コア機能

## 難易度
**Medium**

## 前提条件
- [x] FE-001: プロジェクトセットアップが完了
- [x] FE-002: 共通コンポーネントが完成
- [x] バックエンドAPIが利用可能

## 実装内容

### 1. ページコンポーネント (`src/pages/ThreadListPage.tsx`)
- [ ] スレッド一覧の取得と表示
- [ ] ローディング状態の表示
- [ ] エラー状態の表示
- [ ] 空状態の表示（スレッドがない場合）

### 2. データフェッチング
- [ ] TanStack QueryまたはSWRを使用したデータ取得
- [ ] キャッシュ戦略の実装
- [ ] 自動再フェッチの設定
- [ ] エラーリトライ機能

### 3. フィルタ機能
- [ ] カテゴリフィルタ
- [ ] タグフィルタ（複数選択可）
- [ ] ステータスフィルタ（アクティブ、ピン留め、ロック済み）
- [ ] フィルタUIの実装
- [ ] URLクエリパラメータとの同期

### 4. ソート機能
- [ ] 最新順（デフォルト）
- [ ] 投稿数順
- [ ] 閲覧数順
- [ ] 最終投稿日時順
- [ ] ソート選択UIの実装
- [ ] URLクエリパラメータとの同期

### 5. ページネーション
- [ ] ページネーションコンポーネントの使用
- [ ] 無限スクロールの実装（オプション）
- [ ] 1ページあたりの表示件数設定
- [ ] ページ遷移時のスクロール位置管理

### 6. スレッドカード表示
- [ ] スレッドタイトル
- [ ] カテゴリバッジ
- [ ] タグチップ（最大3-5個表示）
- [ ] 投稿数
- [ ] 閲覧数
- [ ] 最終投稿日時
- [ ] トレンド/ピン留め/ロックインジケーター
- [ ] サムネイル画像（オプション）

### 7. インタラクション
- [ ] スレッドカードクリックで詳細ページへ遷移
- [ ] ホバーエフェクト
- [ ] カテゴリ/タグクリックでフィルタ
- [ ] 「スレッドを作成」ボタン

### 8. レスポンシブ対応
- [ ] モバイルビュー（1カラム）
- [ ] タブレットビュー（2カラムまたは1カラム）
- [ ] デスクトップビュー（サイドバー + メインコンテンツ）

### 9. パフォーマンス最適化
- [ ] 仮想スクロール（大量データの場合）
- [ ] 画像の遅延読み込み
- [ ] コンポーネントのメモ化
- [ ] 不要な再レンダリングの防止

### 10. テスト
- [ ] ページコンポーネントのテスト
- [ ] フィルタ機能のテスト
- [ ] ソート機能のテスト
- [ ] ページネーションのテスト
- [ ] E2Eテスト（Playwright/Cypress）

## 受け入れ基準
- [ ] スレッド一覧が正しく表示される
- [ ] フィルタが正常に動作する
- [ ] ソートが正常に動作する
- [ ] ページネーションが正常に動作する
- [ ] ローディング/エラー状態が適切に表示される
- [ ] レスポンシブデザインが機能している
- [ ] パフォーマンスが良好（FCP < 1.5s、LCP < 2.5s）
- [ ] URLパラメータでフィルタ状態が保存される
- [ ] アクセシビリティ基準を満たしている

## UI/UX要件
- スレッドカードは視覚的に分かりやすく
- トレンドスレッドは目立つように表示
- ピン留めスレッドは常に上部に表示
- フィルタ/ソートは直感的に操作可能
- モバイルでも快適に閲覧可能

## APIエンドポイント
- `GET /api/v1/threads/` - スレッド一覧取得
- `GET /api/v1/categories/` - カテゴリ一覧取得
- `GET /api/v1/tags/` - タグ一覧取得
- `GET /api/v1/threads/trending/` - トレンドスレッド取得

## 関連タスク
- FE-002: コンポーネントライブラリ
- FE-004: スレッド詳細ページ
- FE-005: スレッド作成フォーム
- BE-001: API統合テスト

## 参考
- TanStack Query: https://tanstack.com/query/
- Infinite Scroll Pattern: https://www.patterns.dev/react/infinite-scroll
- Web Vitals: https://web.dev/vitals/
